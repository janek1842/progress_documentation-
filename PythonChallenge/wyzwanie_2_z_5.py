# -*- coding: utf-8 -*-
"""Wyzwanie 2 z 5.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1eSmmYcSueitXn_oemcJgFuFioXGpWKMI

# Witaj w drugim wyzwaniu Praktycznego Pythona

ğŸ‘‰ Wyzwanie na dziÅ›: stwÃ³rz kantor internetowy - uÅ¼ytkownik moÅ¼e sprawdziÄ‡ historyczny kurs waluty w danym dniu korzystajÄ…c z wygodnego formularza.

âš ï¸ Najpierw zrÃ³b kopiÄ™ tego dokumentu - kliknij przycisk "copy to Drive" ("skopiuj na dysk").

# 1. Jak SZYBKO zrobiÄ‡ formularz?
"""

# Google Colab pozwala na Å‚atwe tworzenie formularzy.
# Wystarczy dodaÄ‡ komentarz #@param

text = "asdgfhgdhgfhdhfghdafdsadsafdsafdsa" #@param {type:"string"}

# ZmieÅ„ typ (napis/data/checkbox etc.) klikaj oÅ‚Ã³wek po prawej stronie.

print("Zmienna text ma wartoÅ›Ä‡ {text}")
print(f"Zmienna text ma wartoÅ›Ä‡ {text}")  # wÅ‚Ä…czamy string interpolation

"""# 2. WyciÄ…gnij szufladÄ™ requests!"""

from requests import get

date = '2021-12-14'
url = f'http://api.nbp.pl/api/exchangerates/rates/a/USD/{date}/'
resp = get(url)
print(resp)
print(type(resp))  # `resp` nie jest ani napisem ani liczbÄ… - jest czymÅ› bardziej zÅ‚oÅ¼onym

# Funkcje:         nazwa_funkcji(argument1, argument2, ...)
# Metody:   obiekt.nazwa_metody(argument1, argument2, ...)

# Metoda .upper() (dostÄ™pna tylko dla napisÃ³w):
text = 'asdf'
print(text.upper())
# print(upper(text))  # âŒ metod nie moÅ¼emy uÅ¼ywaÄ‡ jak funkcji

print(text)
# text.print()  # âŒ funkcji nie moÅ¼emy uÅ¼ywaÄ‡ jak metod

# Metoda .json() (dostÄ™pna tylko dla Responses)
data = resp.json()
print(data)

"""# 3. DuuuÅ¼o informacji - jak je powyciÄ…gaÄ‡?"""

currencies = ['USD', 'EUR', 'CHF']
print(currencies)
print(currencies[0])

nested_currencies = [['USD', 'dolar amerykaÅ„ski'], ['EUR', 'euro']]
print(nested_currencies)
print(nested_currencies[0])
print(nested_currencies[0][0])

person = {'first_name': 'Jan', 'last_name': 'Kowalski', 'phones': ['123456789', '987654321']}
print(person)
print(person['first_name'])  # (!) dalej uÅ¼ywamy nawiasÃ³w kwadratowych

print(person['phones'])
print(person['phones'][0])

"""# Wyzwanie dla Ciebie

1. UzupeÅ‚nij poniÅ¼szy kod tak, aby wyÅ›wietlaÅ‚ sam kurs waluty zamiast caÅ‚ego `data`.
2. WyÅ›wietl kurs waluty razem z innymi informacjami, np. tak jak poniÅ¼ej:
   
   ```1 EUR = 4.6436 PLN w dniu 2021-12-14```
"""

#@title  SprawdÅº historyczny kurs waluty  {"run": "auto"}
print("------------------------------------------------")
from requests import get

code = "EUR" #@param ["USD", "EUR", "CHF"]
date = "2021-12-14" #@param {type:"date"}

url = f'http://api.nbp.pl/api/exchangerates/rates/a/{code}/{date}/'

resp = get(url)
data = resp.json()

# Zadanie 1
print(data["rates"][0]["mid"])

# Zadanie 2
task_2 = data["rates"][0]["mid"]
exchange_rate = "1 EUR = " +  str(task_2) + " PLN w dniu " + str(date)

print(exchange_rate)