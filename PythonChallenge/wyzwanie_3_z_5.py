# -*- coding: utf-8 -*-
"""Wyzwanie 3 z 5.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1p8RB14CsDm1xBIp_iKIStPEYaPZ8v0V8

# Witaj w trzecim wyzwaniu Praktycznego Pythona

 Wyzwanie na dzi: program automatyzujcy zmian rozszerze wielu plik贸w na raz.

锔 Najpierw zr贸b kopi tego dokumentu - kliknij przycisk "copy to Drive" ("skopiuj na dysk").

# 1. Chwy w rk te dwa nowe narzdzia!
"""

from glob import glob

files = glob('*')
print(files)

# (!) W Google Colab szuka plik贸w i katalog贸w na osobnym dysku, wcale nie na Twoim!

print(glob('sample_data/*.md'))

from os import rename

old = 'sample_data/README.md'
new = 'sample_data/README.txt'
rename(old, new)

"""# 2. Powtarzam, powtarzam, powtarzam, ..."""

files = [
    'sample_data/mnist_test.csv',
    'sample_data/mnist_train_small.csv',
]

for file in files:
    print(file)

print("Koniec")

"""# 3. Co z nazwami plik贸w?"""

file = 'sample_data/mnist_test.csv'
print(file.split('.'))

parts = file.split('.')
print('parts =', parts)  # Gdy do printa przekazujemy kilka argument贸w, wtedy wywietla je w jednej linii.

basename = parts[0]
ext = parts[1]
print('basename =', basename)
print('ext =', ext)

# Lub kr贸cej:
basename, ext = parts
print('basename =', basename)
print('ext =', ext)

# Lub jeszcze kr贸cej:
basename, ext = file.split('.')
print('basename =', basename)
print('ext =', ext)

"""# Wyzwanie dla Ciebie
1. W tym momencie skrypt zmienia rozszerzenie pliku zawsze na `.csv`. Pozw贸l u偶ytkownikowi podajakie ma by nowe rozszerzenie, tak samo jak mo偶e poda `pattern`.
2. Dodaj checkbox `dry_run`, kt贸ry sprawi, 偶e program wcale nie zmieni nazw plik贸w, a jedynie wywietli jakie zmiany by wprowadzi.
"""
print("--------------------MY TASK---------------------------")
# @title  Zmiana nazw plik贸w

from glob import glob
from os import rename

pattern = "sample_data/*.txt"  #@param {type:"string"}
extension = input("Give me extension: ")
extension = "."+extension
print("Your extension ",extension)
files = glob(pattern)
print("MOJE PLIKI",files)

for file in files:
    name, ext = file.split('.')
    new_name = name + extension
    rename(file, new_name)
    print(file, '->', new_name)
print("Koniec")